<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Active Card Wrapper Test</title>
        <style>
            .active-card-wrapper {
                /* Make the wrapper completely transparent to events */
                pointer-events: none !important;
                position: relative;
                z-index: auto !important;
                background: transparent !important;
                border: none !important;
                outline: none !important;
                margin: 0 !important;
                padding: 0 !important;
                box-shadow: none !important;
                opacity: 1 !important;
                isolation: auto !important;
                transform: none !important;
                will-change: auto !important;
                contain: none !important;
                touch-action: inherit !important;
                -webkit-tap-highlight-color: inherit !important;
            }

            .active-card-wrapper input,
            .active-card-wrapper textarea {
                cursor: text !important;
                pointer-events: auto !important;
                position: relative;
                z-index: 1000 !important;
                user-select: text !important;
                -webkit-user-select: text !important;
                -moz-user-select: text !important;
                touch-action: auto !important;
            }

            .test-card {
                width: 300px;
                padding: 20px;
                border: 2px solid #ccc;
                border-radius: 8px;
                margin: 20px;
                background: white;
            }

            .test-input {
                width: 100%;
                padding: 8px;
                margin: 10px 0;
                border: 1px solid #ddd;
                border-radius: 4px;
            }

            .clickable-area {
                background: #f0f0f0;
                padding: 10px;
                margin: 10px 0;
                cursor: pointer;
                border-radius: 4px;
            }

            .clickable-area:hover {
                background: #e0e0e0;
            }
        </style>
    </head>
    <body>
        <h1>Active Card Wrapper Test</h1>

        <h2>Without Active Card Wrapper (Control)</h2>
        <div class="test-card">
            <h3>Normal Card</h3>
            <input
                type="text"
                class="test-input"
                placeholder="Name field"
                value="Test Character"
            />
            <textarea class="test-input" placeholder="Notes field">
Some test notes here</textarea
            >
            <div class="clickable-area" onclick="alert('Card clicked!')">
                Click me - this should work
            </div>
        </div>

        <h2>With Active Card Wrapper (Test)</h2>
        <div class="active-card-wrapper">
            <div class="test-card">
                <h3>Active Card</h3>
                <input
                    type="text"
                    class="test-input name-field"
                    placeholder="Name field"
                    value="Test Character"
                />
                <textarea
                    class="test-input notes-field"
                    placeholder="Notes field"
                >
Some test notes here</textarea
                >
                <div class="clickable-area" onclick="alert('Card clicked!')">
                    Click me - this should NOT work (wrapper blocks it)
                </div>
            </div>
        </div>

        <h3>Test Instructions:</h3>
        <ul>
            <li>
                ✅ You should be able to click and edit the input fields in both
                cards
            </li>
            <li>
                ✅ The clickable area in the normal card should show an alert
                when clicked
            </li>
            <li>
                ❌ The clickable area in the active card should NOT show an
                alert (wrapper blocks it)
            </li>
            <li>
                ✅ Input fields in the active card should still be editable
                despite the wrapper
            </li>
        </ul>

        <script>
            // Test to verify input field accessibility
            document.addEventListener("DOMContentLoaded", function () {
                const inputs = document.querySelectorAll(
                    ".active-card-wrapper input, .active-card-wrapper textarea"
                )

                inputs.forEach((input) => {
                    input.addEventListener("focus", function () {
                        console.log(
                            "Input focused successfully:",
                            this.placeholder
                        )
                    })

                    input.addEventListener("click", function () {
                        console.log(
                            "Input clicked successfully:",
                            this.placeholder
                        )
                    })
                })

                console.log(
                    "Test loaded. Found",
                    inputs.length,
                    "inputs in active card wrapper"
                )
            })
        </script>
    </body>
</html>
