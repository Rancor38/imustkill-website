#!/bin/bash

# Demonstration Script for %Source and @RuleName Categorization System
# This script shows the systematic improvements made to the I Must Kill website

echo "üéØ %Source and @RuleName Categorization System Demonstration"
echo "=================================================================="
echo ""

echo "üìä System Overview:"
echo "- %Source annotations define authoritative rule sources"
echo "- @RuleName tags create systematic links throughout content"
echo "- Source Registry shows mappings and uncategorized rules"
echo "- Rule Categorizer analyzes content for improvements"
echo ""

echo "üîó Enhanced Rule Linking Examples:"
echo ""

echo "Before: 'Roll 1d10 against your attack stat. Deal 1 damage on success.'"
echo "After:  'Roll 1d10 against @AttackStat. Deal 1 @PhysicalDamage on success.'"
echo ""

echo "Before: 'Test Focus to gather a spell from your spell deck.'"
echo "After:  'Test @Focus to @Gather a @Spell from your @Spell deck.'"
echo ""

echo "Before: 'A creature that is Frightened cannot attack.'"
echo "After:  'A creature that is @Frightened cannot @Attack.'"
echo ""

echo "üìã %Source Mappings Implemented:"
echo ""

echo "Character Creation:"
echo "  - Stats Section: @Body, @Agility, @Focus, @Fate"
echo "  - Basic Mechanics: @Advantage, @Disadvantage"
echo "  - Attack & HP: @AttackStat, @HitPoints"
echo ""

echo "Combat Mechanics:"
echo "  - Actions: @Attack, @Dodge, @Brace, @Gather, @Flee, @Negotiate"
echo "  - Damage Types: @PhysicalDamage, @SpiritualDamage, @HybridDamage"
echo "  - Statuses: @Frightened, @Unconscious, @Diseased"
echo ""

echo "Death & Resting:"
echo "  - Recovery: @GritTeeth, @NightsRest"
echo "  - Death: @Death"
echo ""

echo "Spellcasting:"
echo "  - Spell Actions: @GatherSpells, @CastSpells"
echo ""

echo "Progression:"
echo "  - Advancement: @LevelingUp, @Insight"
echo ""

echo "Running the Game:"
echo "  - GM Mechanics: @HiddenCreatures, @WindUp, @MonsterTables"
echo ""

echo "üõ†Ô∏è New Tools Available:"
echo ""
echo "1. Source Registry (/source-registry):"
echo "   - View all %Source mappings by category"
echo "   - Identify uncategorized rules"
echo "   - Track rule relationships"
echo ""

echo "2. Rule Categorizer (/rule-categorizer):"
echo "   - Analyze content for @RuleName opportunities"
echo "   - Generate systematic recommendations"
echo "   - Find missing references"
echo ""

echo "üìà System Benefits:"
echo ""
echo "‚úÖ Consistency: Uniform rule references across the site"
echo "‚úÖ Navigation: Click @RuleName tags to jump to definitions"  
echo "‚úÖ Maintenance: Update rules in one place, changes propagate"
echo "‚úÖ Discovery: Users understand rule relationships"
echo "‚úÖ Validation: Tools help maintain categorization"
echo ""

echo "üéÆ Live Demonstration:"
echo ""
echo "Visit these URLs to see the system in action:"
echo "- Homepage: http://localhost:3001"
echo "- Source Registry: http://localhost:3001/source-registry"
echo "- Rule Categorizer: http://localhost:3001/rule-categorizer"
echo "- Combat Mechanics: http://localhost:3001/combat-mechanics"
echo ""

echo "üìù Recent Improvements Implemented:"
echo ""
echo "Based on Rule Categorizer recommendations:"
echo "- Enhanced @Damage categorization in combat mechanics"
echo "- Added @Focus, @Spell tagging in spellcasting actions"
echo "- Improved @Attack references in status conditions"
echo "- Systematic @HitPoints usage in recovery mechanics"
echo "- Added @Rest references in progression content"
echo ""

echo "üîÑ Maintenance Workflow:"
echo ""
echo "1. Add %Source annotations to sections defining rules"
echo "2. Use @RuleName tags throughout content consistently"
echo "3. Run Rule Categorizer to find improvement opportunities"
echo "4. Review Source Registry for uncategorized rules"
echo "5. Add missing definitions to rules-database.json"
echo "6. Validate links work properly across the site"
echo ""

echo "üìñ Documentation:"
echo "- SOURCE_CATEGORIZATION_SYSTEM.md: Complete system guide"
echo "- RULES_CONTENT_SYSTEM.md: Technical implementation details"
echo ""

echo "‚ú® System Status: FULLY OPERATIONAL ‚ú®"
echo "Your I Must Kill website now has comprehensive rule categorization!"
